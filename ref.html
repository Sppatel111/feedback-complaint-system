
## settings.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/lux/bootstrap.min.css">
<!--    <link rel="stylesheet" href="https://bootswatch.com/5/lux/bootstrap.min.css">-->
    <style>
        .settings-container {
            display: flex; /* Use flexbox for layout */
            margin-top: 20px; /* Add some margin to the top */
        }
        .settings-sidebar {
            flex: 0 0 25%; /* Sidebar takes 25% of the width */
            padding: 15px; /* Add some padding */
            background-color: #f8f9fa; /* Light background for sidebar */
            border-right: 1px solid #dee2e6; /* Optional border for separation */
        }
        .settings-content {
            flex: 1; /* Content takes the remaining width */
            padding: 15px; /* Add some padding */
        }
    </style>
</head>
<body>
    {% if current_user.role == 'employee' %}
        {% set side_panel = False %}
        {% include 'user_base.html' %}
    {% elif current_user.role == 'admin' %}
        {% include 'admin_base.html' %}
    {% endif %}

    <div class="settings-container">
        <div class="settings-sidebar">
            <div class="list-group">
                {% if current_user.role == 'employee' %}
                    <a href="{{ url_for('user.u_details') }}" class="list-group-item list-group-item-action">User Details</a>
                    <a href="{{ url_for('user.change_password') }}" class="list-group-item list-group-item-action">Change Password</a>
                {% elif current_user.role == 'admin' %}
                    <a href="{{ url_for('admin.a_details') }}" class="list-group-item list-group-item-action">Admin Details</a>
                    <a href="{{ url_for('admin.change_password') }}" class="list-group-item list-group-item-action">Change Password</a>
                {% endif %}

            </div>
        </div>
        <div class="settings-content">
            {% block settings_content %}

            {% endblock %}
        </div>
    </div>

</body>
</html>

user_details.html
{% extends 'settings.html' %}

{% block settings_content %}
<div class="container mt-5">
    <h2 class="text-center"><i class="fas fa-key"></i> Details</h2>
    <p class="text-center text-muted">Update your personal details below.</p>
    <!--        flash -->
<!--           <div class="container mt-3">-->
<!--                {% with messages = get_flashed_messages(with_categories=true) %}-->
<!--                    {% if messages %}-->
<!--                        <div class="alert alert-dismissible alert-success">-->
<!--                            <button type="button" class="close" data-dismiss="alert">&times;</button>-->
<!--                            <a href="#" class="alert-link">-->
<!--                                <ul class="flashes">-->
<!--                                    {% for category, message in messages %}-->
<!--                                        <li class="{{ category }}">{{ message }}</li>-->
<!--                                    {% endfor %}-->
<!--                                </ul>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    {% endif %}-->
<!--                {% endwith %}-->
<!--            </div>-->
    <form method="POST" enctype="multipart/form-data" class="mx-auto" style="max-width: 400px;">
        {{ form.hidden_tag() }}

        <div class="mb-3">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", readonly=true) }}
        </div>

        <div class="mb-3">
            {{ form.department.label(class="form-label") }}
            {{ form.department(class="form-control", readonly=true) }}
        </div>

        <div class="mb-3">
            {{ form.profile_image.label(class="form-label") }}
            {{ form.profile_image(class="form-control") }}
            {% for error in form.profile_image.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <div class="mb-3">
            {{ form.f_name.label(class="form-label") }}
            {{ form.f_name(class="form-control", placeholder="Enter First Name") }}
            {% for error in form.f_name.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <div class="mb-3">
            {{ form.l_name.label(class="form-label") }}
            {{ form.l_name(class="form-control", placeholder="Enter Last Name") }}
            {% for error in form.l_name.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <div class="mb-3">
            {{ form.phone.label(class="form-label") }}
            {{ form.phone(class="form-control", placeholder="Enter 10-digit Phone Number", pattern="[0-9]{10}") }}
            {% for error in form.phone.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <div class="d-flex justify-content-center">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>
</div>
{% endblock %}

change_password.html
{% extends 'settings.html' %}

{% block settings_content %}
<div class="container mt-5">
    <h2 class="text-center"><i class="fas fa-key"></i> Change Password</h2>
    <p class="text-center text-muted">Update your account password for better security.</p>

    <form method="POST" class="mx-auto" style="max-width: 400px;">
        {{ form.hidden_tag() }}

        <!--        flash -->
<!--           <div class="container mt-3">-->
<!--                {% with messages = get_flashed_messages(with_categories=true) %}-->
<!--                    {% if messages %}-->
<!--                        <div class="alert alert-dismissible alert-success">-->
<!--                            <button type="button" class="close" data-dismiss="alert">&times;</button>-->
<!--                            <a href="#" class="alert-link">-->
<!--                                <ul class="flashes">-->
<!--                                    {% for category, message in messages %}-->
<!--                                        <li class="{{ category }}">{{ message }}</li>-->
<!--                                    {% endfor %}-->
<!--                                </ul>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    {% endif %}-->
<!--                {% endwith %}-->
<!--            </div>-->
        <!-- Current Password -->
        <div class="form-group mb-3">
            <label class="form-label">{{ form.current_password.label }}</label>
            {{ form.current_password(class="form-control", placeholder="Enter current password") }}
            {% for error in form.current_password.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- New Password -->
        <div class="form-group mb-3">
            <label class="form-label">{{ form.new_password.label }}</label>
            {{ form.new_password(class="form-control", placeholder="Enter new password") }}
            {% for error in form.new_password.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Confirm Password -->
        <div class="form-group mb-3">
            <label class="form-label">{{ form.confirm_password.label }}</label>
            {{ form.confirm_password(class="form-control", placeholder="Confirm new password") }}
            {% for error in form.confirm_password.errors %}
                <div class="text-danger small">{{ error }}</div>
            {% endfor %}
        </div>

        <!-- Submit Button (Centered) -->
        <div class="text-center">
            <button type="submit" class="btn btn-primary px-4">
                <i class="fas fa-save"></i> Update Password
            </button>
        </div>
    </form>
</div>
{% endblock %}

user_profile.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.3.1/lux/bootstrap.min.css">
</head>
<body>
<!--    <div class="container-fluid">-->
        {% if current_user.role == 'employee' %}
            {% set side_panel = False %}
            {% include 'user_base.html' %}
        {% elif current_user.role == 'admin' %}
            {% include 'admin_base.html' %}
        {% endif %}

        <div class="text-center mb-4">

        </div>

        <div class="card mx-auto mb-4" style="max-width: 800px;">
            <div class="card-body">
                <h2 class="card-title text-center mb-4">Profile Information</h2>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <strong>Email:</strong> <span>{{ current_user.email }}</span>
                    </li>
                    <li class="list-group-item">
                        <strong>First Name:</strong> <span>{{ current_user.user_detail.firstname }}</span>
                    </li>
                    <li class="list-group-item">
                        <strong>Last Name:</strong> <span>{{ current_user.user_detail.lastname }}</span>
                    </li>
                    <li class="list-group-item">
                        <strong>Phone Number:</strong> <span>{{ current_user.user_detail.phone_number }}</span>
                    </li>
                    <li class="list-group-item">
                        <strong>Department:</strong> <span>{{ current_user.department }}</span>
                    </li>
                    <li class="list-group-item">
                        <strong>Role:</strong> <span>{{ current_user.role }}</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="text-center mt-4">
            {% if current_user.role == 'employee' %}
                <a href="{{ url_for('user.u_details') }}" class="btn btn-primary">Edit Details</a>
            {% elif current_user.role == 'admin' %}
                <a href="{{ url_for('admin.a_details') }}" class="btn btn-primary">Edit Details</a>
            {% endif %}
        </div>
<!--    </div>-->
</body>
</html>
