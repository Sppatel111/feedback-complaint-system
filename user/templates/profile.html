{% extends "settings.html" %}
{% set active_tab = 'profile' %}

{% block settings_content %}
<style>
    .card-custom {
        border: 1px solid #e9ecef;
        border-radius: 14px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
        background-color: #ffffff;
        padding: 1.8rem;
        margin-bottom: 2rem;
        transition: box-shadow 0.3s ease;
    }

    .card-custom:hover {
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.06);
    }

    .edit-btn {
        background-color: #f8f9fc;
        border: 1px solid #dee2e6;
        color: #5a5c69;
        border-radius: 8px;
        font-size: 14px;
        padding: 6px 14px;
        text-decoration: none;
        transition: background-color 0.2s ease;
    }

    .edit-btn:hover {
        background-color: #e2e6ea;
        color: #343a40;
    }

    .profile-img-wrapper {
        position: relative;
        display: inline-block;
    }

    .profile-img {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #f1f3f5;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }


    .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.5rem;
    }

    .info-block p {
        margin-bottom: 0.25rem;
        color: #6c757d;
        font-size: 13px;
    }

    .info-block h6 {
        font-size: 15px;
        font-weight: 500;
        color: #212529;
    }

    .card-header-area {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.2rem;
    }

    .name-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 2px;
    }

    .sub-info {
        font-size: 14px;
        color: #6c757d;
    }
    .profile-img-wrapper {
        margin-right: 2rem; /* You can increase/decrease as needed */
    }

    @media (max-width: 576px) {
        .profile-img {
            width: 70px;
            height: 70px;
        }

        .name-title {
            font-size: 1rem;
        }
    }
</style>

<!-- Profile Summary -->
<div class="card-custom">
    <div class="d-flex justify-content-between align-items-center flex-wrap">
        <div class="d-flex align-items-center mb-3 mb-md-0">
            <div class="profile-img-wrapper me-3">
                <img src="{{ url_for('user.static', filename='assets/profiles/' + (current_user.user_detail.profile_image or 'default-profile.jpg')) }}"
                     class="profile-img" alt="Profile Picture">



            </div>
            <div>
                <div class="name-title">{{ current_user.user_detail.firstname }} {{ current_user.user_detail.lastname }} </div>
                <div class="sub-info">{{ current_user.role|capitalize }} </div>
                <div class="sub-info">{{ current_user.user_detail.email  }}</div>
            </div>
        </div>
        <a href="{{ url_for('user.u_details') }}" class="edit-btn mt-2 mt-md-0">
            <i class="fas fa-pen me-1"></i> Edit
        </a>
    </div>
</div>

<!-- Personal Info -->
<div class="card-custom">
    <div class="card-header-area">
        <h5 class="mb-0">Personal Information</h5>
        <a href="{{ url_for('user.u_details') }}" class="edit-btn">
            <i class="fas fa-pen me-1"></i> Edit
        </a>
    </div>
    <div class="info-grid">
        <div class="info-block">
            <p>First Name</p>
            <h6>{{ current_user.user_detail.firstname }}</h6>
        </div>
        <div class="info-block">
            <p>Last Name</p>
            <h6>{{ current_user.user_detail.lastname }}</h6>
        </div>
        <div class="info-block">
            <p>Email</p>
            <h6>{{ current_user.email }}</h6>
        </div>
        <div class="info-block">
            <p>Phone</p>
            <h6>{{ current_user.user_detail.phone_number or '—' }}</h6>
        </div>
        <div class="info-block">
            <p>Department</p>
            <h6>{{ current_user.department or '—' }}</h6>
        </div>
        <div class="info-block">
            <p>Status</p>
            <h6>
                {% if current_user.is_active %}
                    <span class="badge bg-success">Active</span>
                {% else %}
                    <span class="badge bg-secondary">Disabled</span>
                {% endif %}
            </h6>
        </div>
    </div>
</div>
{% endblock %}
